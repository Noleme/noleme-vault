imports:
    - "com/lumio/vault/parser/provider.string.json"
    - "com/lumio/vault/parser/provider.boolean.json"
    - "com/lumio/vault/parser/provider.integer.json"

variables:
    provider.integer.value: 2345
    provider.double.value: 12.34

services:
    alias.string:
        alias: "provider.string"

    provider.boolean.base:
        class: "com.lumio.vault.service.BooleanProvider"
        constructor:
            - false

    provider.double:
        class: "com.lumio.vault.service.DoubleProvider"
        constructor:
            - "##provider.double.value##"
        invocations:
            - ["provide"]

    provider.string:
        class: "com.lumio.vault.service.StringProvider"
        method: "build"
        arguments:
            - "##provider.string.value##"

    provider.boolean:
        class: "com.lumio.vault.service.ServiceProvider"
        method: "provide"
        arguments:
            - "@provider.boolean.base"